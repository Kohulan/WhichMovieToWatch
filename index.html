<!DOCTYPE html>
<html lang="en">

<head>
    <link rel="icon" type="image/x-icon" href="assets/favicon_io/favicon.ico">
    <link rel="icon" type="image/png" sizes="32x32" href="assets/favicon_io/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="assets/favicon_io/favicon-16x16.png">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Primary Meta Tags -->
    <meta name="title" content="Which Movie To Watch - Find Your Next Movie">
    <meta name="description"
        content="Discover your next favorite movie! Get personalized movie recommendations based on your streaming services and preferences. Free and paid movie suggestions available.">
    <meta name="keywords"
        content="movie recommendations, what to watch, movie finder, streaming movies, free movies, movie suggestions">
    <meta name="author" content="Kohulan.R">
    <meta name="robots" content="index, follow">
    <meta name="language" content="English">

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://whichmovietowatch.com/">
    <meta property="og:title" content="Which Movie To Watch - Find Your Next Movie">
    <meta property="og:description"
        content="Discover your next favorite movie! Get personalized movie recommendations based on your streaming services and preferences. Free and paid movie suggestions available.">
    <meta property="og:image" content="https://www.whichmovieto.watch/assets/images/preview.png">
    <meta property="og:site_name" content="Which Movie To Watch">

    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://whichmovietowatch.com/">
    <meta property="twitter:title" content="Which Movie To Watch - Find Your Next Movie">
    <meta property="twitter:description"
        content="Discover your next favorite movie! Get personalized movie recommendations based on your streaming services and preferences. Free and paid movie suggestions available.">
    <meta property="twitter:image" content="https://www.whichmovieto.watch/assets/images/preview.png">

    <!-- Favicon -->
    <link rel="canonical" href="https://whichmovietowatch.com/">
    <link rel="icon" type="image/x-icon" href="assets/favicon_io/favicon.ico">
    <link rel="icon" type="image/png" sizes="32x32" href="assets/favicon_io/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="assets/favicon_io/favicon-16x16.png">
    <link rel="apple-touch-icon" sizes="180x180" href="assets/favicon_io/apple-touch-icon.png">
    <link rel="manifest" href="site.webmanifest">

    <!-- Security Headers -->
    <meta http-equiv="Content-Security-Policy" content="
        default-src 'self';
        script-src 'self' 'unsafe-inline' 'unsafe-eval' https://cdnjs.cloudflare.com https://code.jquery.com https://scripts.simpleanalyticscdn.com;
        style-src 'self' 'unsafe-inline' https://cdnjs.cloudflare.com https://fonts.googleapis.com;
        img-src 'self' https://image.tmdb.org data: https://via.placeholder.com https://*.simpleanalyticscdn.com https://corsproxy.io;
        font-src 'self' data: https://fonts.gstatic.com https://cdnjs.cloudflare.com;
        connect-src 'self' https://api.themoviedb.org https://ipapi.co https://ipinfo.io https://www.omdbapi.com/ https://youtube.com https://streaming-availability.p.rapidapi.com;
        worker-src 'self';
        object-src 'none';">
    <title>Which Movie To Watch!</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/brands.min.css" rel="stylesheet">
    
    <!-- Animation Libraries -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/TextPlugin.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/lottie-web/5.12.2/lottie.min.js"></script>
    <link href="themes.css" rel="stylesheet">
    <link href="css/styles.css" rel="stylesheet">
    <link rel="stylesheet" href="css/visual-enhancements.css">
    <link rel="stylesheet" href="css/professional-animations.css">
    <link rel="stylesheet" href="css/advanced-search.css">
    <link rel="stylesheet" href="css/light-mode-fixes.css">
    <link rel="stylesheet" href="css/netflix-modal-enhanced.css">
    <link rel="stylesheet" href="loading.css">

    <!-- Structured Data -->
    <script type="application/ld+json">
    [
        {
            "@context": "https://schema.org",
            "@type": "WebApplication",
            "name": "Which Movie To Watch",
            "url": "https://www.whichmovieto.watch",
            "description": "A movie recommendation tool that helps users find their next favorite movie based on streaming service availability and preferences.",
            "applicationCategory": "EntertainmentApplication",
            "operatingSystem": "Any",
            "browserRequirements": "Requires JavaScript",
            "offers": {
                "@type": "Offer",
                "price": "0",
                "priceCurrency": "USD"
            },
            "author": {
                "@type": "Person",
                "name": "Kohulan.R",
                "url": "https://kohulanr.com"
            },
            "featureList": [
                "Personalized movie recommendations",
                "Streaming service availability check",
                "Free movie suggestions",
                "Movie ratings and reviews",
                "Trailer links"
            ],
            "potentialAction": {
                "@type": "SearchAction",
                "target": {
                    "@type": "EntryPoint",
                    "urlTemplate": "https://www.whichmovieto.watch/?search={search_term_string}"
                },
                "query-input": "required name=search_term_string"
            },
            "aggregateRating": {
                "@type": "AggregateRating",
                "ratingValue": "4.8",
                "reviewCount": "1250",
                "bestRating": "5",
                "worstRating": "1"
            }
        },
        {
            "@context": "https://schema.org",
            "@type": "BreadcrumbList",
            "itemListElement": [
                {
                    "@type": "ListItem",
                    "position": 1,
                    "name": "Home",
                    "item": "https://www.whichmovieto.watch"
                },
                {
                    "@type": "ListItem",
                    "position": 2,
                    "name": "Find Movies",
                    "item": "https://www.whichmovieto.watch/#search"
                },
                {
                    "@type": "ListItem",
                    "position": 3,
                    "name": "Free Movies",
                    "item": "https://www.whichmovieto.watch/#free-movies"
                }
            ]
        },
        {
            "@context": "https://schema.org",
            "@type": "FAQPage",
            "mainEntity": [
                {
                    "@type": "Question",
                    "name": "How does Which Movie To Watch recommend movies?",
                    "acceptedAnswer": {
                        "@type": "Answer",
                        "text": "Our AI-powered system analyzes thousands of data points including user ratings, popularity trends, and viewing patterns to suggest movies that match your unique taste. We consider your preferred streaming services and genres to provide personalized recommendations."
                    }
                },
                {
                    "@type": "Question",
                    "name": "What is Dinner Time Mode?",
                    "acceptedAnswer": {
                        "@type": "Answer",
                        "text": "Dinner Time Mode is a unique feature that suggests movies perfect for mealtime viewing. It filters out content with unsavory scenes to ensure your dining experience isn't disrupted, focusing on movies available on major streaming platforms."
                    }
                },
                {
                    "@type": "Question",
                    "name": "Are the free movies really free?",
                    "acceptedAnswer": {
                        "@type": "Answer",
                        "text": "Yes! Our free movie collection consists of legally available content from trusted sources like YouTube. These are movies that have been made freely available by their rights holders."
                    }
                },
                {
                    "@type": "Question",
                    "name": "How do I search for specific movies?",
                    "acceptedAnswer": {
                        "@type": "Answer",
                        "text": "Click the 'Search Movies' button to open the search modal. You can type movie titles or use voice search if your browser supports it. The search results will show movies with ratings, release years, and posters."
                    }
                },
                {
                    "@type": "Question",
                    "name": "Can I change my streaming service preferences?",
                    "acceptedAnswer": {
                        "@type": "Answer",
                        "text": "Yes! Click the 'Change Preferences' button to update your preferred streaming service and movie genre. Your preferences are saved locally and used to provide better recommendations."
                    }
                }
            ]
        },
        {
            "@context": "https://schema.org",
            "@type": "HowTo",
            "name": "How to Find Your Perfect Movie on Which Movie To Watch",
            "description": "A step-by-step guide to finding your next favorite movie using our recommendation system",
            "image": "https://www.whichmovieto.watch/assets/images/preview.png",
            "totalTime": "PT2M",
            "estimatedCost": {
                "@type": "MonetaryAmount",
                "currency": "USD",
                "value": "0"
            },
            "supply": [
                {
                    "@type": "HowToSupply",
                    "name": "Internet connection"
                },
                {
                    "@type": "HowToSupply",
                    "name": "Web browser with JavaScript enabled"
                }
            ],
            "step": [
                {
                    "@type": "HowToStep",
                    "name": "Set Your Preferences",
                    "text": "When you first visit the site, select your preferred streaming service and favorite movie genre from the preference modal.",
                    "image": "https://www.whichmovieto.watch/assets/images/step1.png"
                },
                {
                    "@type": "HowToStep",
                    "name": "Browse Recommendations",
                    "text": "The main page will show you a personalized movie recommendation. Read the description, check ratings, and see streaming availability.",
                    "image": "https://www.whichmovieto.watch/assets/images/step2.png"
                },
                {
                    "@type": "HowToStep",
                    "name": "Use Special Features",
                    "text": "Try 'Dinner Time!' for meal-friendly movies, 'Free Movie!' for YouTube content, or 'Search Movies' to find specific titles.",
                    "image": "https://www.whichmovieto.watch/assets/images/step3.png"
                },
                {
                    "@type": "HowToStep",
                    "name": "Interact with Movies",
                    "text": "Use the action buttons to mark movies as 'Love it!', 'Not Interested', or 'Watched' to improve future recommendations.",
                    "image": "https://www.whichmovieto.watch/assets/images/step4.png"
                },
                {
                    "@type": "HowToStep",
                    "name": "Get New Suggestions",
                    "text": "Click 'Next Movie' to get another recommendation, or explore similar movies when you find one you love.",
                    "image": "https://www.whichmovieto.watch/assets/images/step5.png"
                }
            ]
        },
        {
            "@context": "https://schema.org",
            "@type": "Organization",
            "name": "Which Movie To Watch",
            "url": "https://www.whichmovieto.watch",
            "logo": "https://www.whichmovieto.watch/assets/favicon_io/android-chrome-512x512.png",
            "sameAs": [
                "https://github.com/Kohulan/WhichMovieToWatch",
                "https://www.instagram.com/kohulanr/",
                "https://www.linkedin.com/in/kohulanrajan/"
            ]
        }
    ]
    </script>

    <!-- SEO verification tags (add your verification codes) -->
    <meta name="google-site-verification" content="your-google-verification-code">
    <meta name="msvalidate.01" content="your-bing-verification-code">
    
    <!-- Performance Optimization Scripts - Load Early -->
    <script src="scripts/performance-manager.js"></script>
</head>

<body>
    <button class="theme-toggle" id="themeToggleButton" aria-label="Toggle dark/light mode">
        <i class="fas fa-moon"></i>
    </button>

    <!-- Loading Container -->
    <div class="loading-container">
        <!-- Film Reel Spinner Loader -->
        <div class="film-reel-spinner">
          <svg width="120" height="120" viewBox="0 0 120 120">
            <circle class="reel-circle" cx="60" cy="60" r="50" fill="none" stroke-width="8" />
            <g class="film-holes">
              <circle class="film-hole" cx="60" cy="15" r="4" />
              <circle class="film-hole" cx="105" cy="60" r="4" />
              <circle class="film-hole" cx="60" cy="105" r="4" />
              <circle class="film-hole" cx="15" cy="60" r="4" />
            </g>
          </svg>
        </div>

        <!-- Popcorn Particles Loading Bar -->
        <div class="popcorn-loading-bar">
          <div class="popcorn-bar">
            <div class="popcorn-fill"></div>
            <div class="popcorn-particles">
              <div class="popcorn-particle"></div>
              <div class="popcorn-particle"></div>
              <div class="popcorn-particle"></div>
              <div class="popcorn-particle"></div>
              <div class="popcorn-particle"></div>
            </div>
          </div>
          <span class="loading-text">Loading</span>
        </div>

        <!-- Movie Quotes and Progress Percentage -->
        <div class="quote-loading">
          <div class="quote" id="movieQuote">"May the Force be with you."</div>
          <div class="progress" id="loadingProgress">0%</div>
        </div>
    </div>

    <div id="preferenceModal" class="preference-modal">
        <div class="preference-modal-content">
            <div class="preference-header">
                <h2>Welcome to Which Movie to Watch!</h2>
            </div>
            <div class="preference-body">
                <div class="preference-section">
                    <label for="streamingProvider">Select your preferred streaming service:</label>
                    <select id="streamingProvider" class="preference-select">
                        <option value="">Select a provider</option>
                        <option value="netflix">Netflix</option>
                        <option value="disneyplus">Disney+</option>
                        <option value="amazon">Amazon Prime</option>
                        <option value="hulu">Hulu</option>
                        <option value="hbomax">HBO Max</option>
                        <option value="appletv">Apple TV+</option>
                        <option value="paramountplus">Paramount+</option>
                        <option value="peacock">Peacock</option>
                    </select>
                </div>
                <div class="preference-section">
                    <label for="movieGenre">Select your preferred genre:</label>
                    <select id="movieGenre" class="preference-select">
                        <option value="">Select a genre</option>
                        <option value="any">Any Genre</option>
                        <option value="28">Action</option>
                        <option value="12">Adventure</option>
                        <option value="16">Animation</option>
                        <option value="35">Comedy</option>
                        <option value="80">Crime</option>
                        <option value="99">Documentary</option>
                        <option value="18">Drama</option>
                        <option value="10751">Family</option>
                        <option value="14">Fantasy</option>
                        <option value="36">History</option>
                        <option value="27">Horror</option>
                        <option value="10402">Music</option>
                        <option value="9648">Mystery</option>
                        <option value="10749">Romance</option>
                        <option value="878">Science Fiction</option>
                        <option value="53">Thriller</option>
                        <option value="10752">War</option>
                        <option value="37">Western</option>
                    </select>
                </div>
                <div class="preference-actions">
                    <button id="startExploring" class="preference-button start-button" disabled>
                        Start Exploring
                    </button>
                    <button id="skipPreferences" class="preference-button skip-button">
                        Skip for Now
                    </button>
                </div>
            </div>
        </div>
    </div>

    <div class="gradient-background"></div>
    <div class="container">
        <div class="header">
            <div class="title-container">
                <h1 data-text="What Movie To Watch!">
                    <span class="title-letter">🎬 Which Movie To Watch!</span>
                </h1>
            </div>
        </div>
        <div class="dinner-time-container">
            <button onclick="openDinnerTimeModal()" class="dinner-time-trigger">
                <i class="fas fa-utensils"></i>
                Dinner Time!
            </button>
            <button onclick="openFreeMovieModal()" class="free-movie-trigger">
                <i class="fas fa-film"></i>
                Free Movie!
            </button>
            <button onclick="openSearchModal()" class="search-movie-trigger">
                <i class="fas fa-search"></i>
                Search Movies
            </button>
            <button onclick="showPreferenceModal()" class="dinner-time-trigger preference-trigger">
                <i class="fas fa-cog"></i>
                Change Preferences
            </button>
            <button onclick="openNetflixSearchModal()" class="netflix-search-trigger">
                <i class="fab fa-netflix" style="color: #e50914;"></i>
                Netflix Search
            </button>
            <button onclick="filterPanel.togglePanel()" class="advanced-search-trigger">
                <i class="fas fa-filter"></i>
                Advanced Search
            </button>
        </div>
        <div class="movie-card" id="movieCard">
            <div class="loading">
                <i class="fas fa-film"></i>
                <p>Discovering your next favorite movie...</p>
            </div>
        </div>
        <div class="recommendations" id="recommendationsSection"></div>
        
        <!-- Trending Movies Section -->
        <div class="trending-movies" id="trendingMovies" style="display: none;">
            <h3><i class="fas fa-fire"></i> Now Trending in Cinemas</h3>
            <div class="trending-subtitle">Click to search on Google</div>
            <ul id="trendingMoviesList" class="trending-list"></ul>
        </div>
        
        <div class="footer">
            <div class="footer-content">
                Made with <i class="fas fa-mug-hot coffee-icon"></i> by <a href="https://kohulanr.com" target="_blank"
                    rel="noopener noreferrer">Kohulan.R</a> • <a href="/privacy.html">Privacy Policy</a> •
                <a href="https://github.com/Kohulan/WhichMovieToWatch" target="_blank" rel="noopener noreferrer"
                    class="github-link">
                    <i class="fab fa-github"></i> GitHub
                </a>
            </div>
        </div>
    </div>

    <div class="toast" id="toast"></div>
    <div id="dinnerTimeModal" class="dinner-time-modal">
        <div class="dinner-time-modal-content">
            <!-- Content will be dynamically inserted here -->
        </div>
    </div>
    
    <!-- Separate modal for movie availability -->
    <div id="availabilityModal" class="availability-modal-container">
        <div class="availability-modal-content">
            <!-- Content will be dynamically inserted here -->
        </div>
    </div>

    <div id="searchModal" class="search-modal">
        <div class="search-modal-content">
            <div class="search-container">
                <div class="search-bar">
                    <i class="fas fa-search search-icon"></i>
                    <input type="text" id="movieSearch" placeholder="Search for a movie" />
                    <i class="fas fa-microphone voice-icon"></i>
                </div>
                <div id="searchResults" class="search-results-grid"></div>
            </div>
        </div>
    </div>
    </div>

    <!-- Netflix Search Modal -->
    <div id="netflixModal" class="search-modal">
        <div class="search-modal-content">
            <div class="search-container">
                <div class="netflix-header">
                    <h2><i class="fab fa-netflix" style="color: #e50914;"></i> Netflix Regional Search</h2>
                    <button class="close-btn" onclick="closeNetflixModal()">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
                <div class="search-bar">
                    <i class="fas fa-search search-icon"></i>
                    <input type="text" id="netflixMovieSearch" placeholder="Search for a movie on Netflix" onkeypress="if(event.key==='Enter') searchNetflixAvailability()" />
                    <button class="netflix-search-btn" onclick="searchNetflixAvailability()">
                        <i class="fas fa-search"></i>
                    </button>
                </div>
                <div id="netflixResults" class="netflix-results">
                    <div class="disclaimer">
                        <i class="fas fa-info-circle"></i>
                        <p><strong>Disclaimer:</strong> We are not sponsored by or affiliated with Netflix. This search is provided for your convenience to find regional availability.</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Advanced Search Results Modal -->
    <div id="advancedSearchModal" class="search-modal">
        <div class="search-modal-content">
            <div class="search-container">
                <div class="search-header">
                    <h2><i class="fas fa-filter"></i> Advanced Search Results</h2>
                    <button class="close-btn" onclick="document.getElementById('advancedSearchModal').style.display='none'">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
                <div id="advancedSearchResults" class="search-results"></div>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <!-- Optional local API configuration (create from api-config.example.js) -->
    <script src="api-config.js" onerror="console.log('No local API config found, using defaults')"></script>
    <script src="scripts/api.js"></script>
    <script src="scripts/search.js"></script>
    <script src="scripts/search-manager.js"></script>
    <script src="scripts/filter-panel.js"></script>
    <script src="scripts/utils.js"></script>
    <script src="scripts/preferences.js"></script>
    <script src="scripts/meta-tags.js"></script>
    <script src="scripts/story-card.js"></script>
    <script src="scripts/ui.js"></script>
    <script src="scripts/trending.js"></script>
    <script src="scripts/app.js"></script>
    <script src="scripts/theme.js"></script>
    <script src="scripts/professional-animations.js"></script>
    <script src="theme.js" defer></script>
    <script src="loading.js" defer></script>
    
    <!-- PWA Installer -->
    <script src="scripts/pwa-installer.js" defer></script>
    
    <!-- Image Optimizer -->
    <script src="scripts/image-optimizer.js" defer></script>
    
    <!-- Analytics -->
    <script async src="https://scripts.simpleanalyticscdn.com/latest.js"></script>
</body>

</html>