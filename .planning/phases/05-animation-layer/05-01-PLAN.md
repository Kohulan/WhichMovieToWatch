---
phase: 05-animation-layer
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - src/components/animation/MotionProvider.tsx
  - src/components/animation/LoadingQuotes.tsx
  - src/App.tsx
  - src/components/SplashScreen.tsx
  - src/components/discovery/DiscoveryPage.tsx
  - src/components/search/SearchModal.tsx
  - src/components/trending/TrendingPage.tsx
  - src/styles/animations.css
  - src/styles/app.css
autonomous: true
requirements: [ANIM-05, ANIM-06, A11Y-05]

must_haves:
  truths:
    - "All Framer Motion animations globally respect prefers-reduced-motion when the user has it enabled"
    - "Splash screen plays a dramatic Netflix-style logo reveal on every app launch (~2-3s)"
    - "CSS animations are also disabled when prefers-reduced-motion is set"
    - "In-app loading states show a rotating movie quote with a film-reel spinner instead of a plain spinner"
  artifacts:
    - path: "src/components/animation/MotionProvider.tsx"
      provides: "MotionConfig wrapper with reducedMotion='user'"
      exports: ["MotionProvider"]
    - path: "src/styles/animations.css"
      provides: "CSS keyframes for glow pulse, reduced-motion overrides"
      contains: "@keyframes accent-glow-pulse"
    - path: "src/components/SplashScreen.tsx"
      provides: "Netflix-style dramatic splash with ambient light, specular glow, cinematic progress bar"
      exports: ["SplashScreen"]
    - path: "src/components/animation/LoadingQuotes.tsx"
      provides: "Movie-themed loading component with rotating quotes and film-reel spinner"
      exports: ["LoadingQuotes"]
  key_links:
    - from: "src/App.tsx"
      to: "src/components/animation/MotionProvider.tsx"
      via: "MotionProvider wraps entire app content"
      pattern: "<MotionProvider>"
    - from: "src/styles/app.css"
      to: "src/styles/animations.css"
      via: "@import './animations.css'"
      pattern: "@import.*animations"
    - from: "src/components/discovery/DiscoveryPage.tsx"
      to: "src/components/animation/LoadingQuotes.tsx"
      via: "replaces plain loading spinner during movie fetch"
      pattern: "LoadingQuotes"
---

<objective>
Create the animation infrastructure (MotionProvider for prefers-reduced-motion), the animations.css stylesheet with CSS keyframes and reduced-motion overrides, redesign the splash screen to Netflix-style dramatic reveal, and create a movie-themed LoadingQuotes component for in-app loading states.

Purpose: MotionProvider is the foundation that every subsequent animation plan depends on. The splash screen is the first animation users see and sets the cinematic tone. The CSS animations file provides reusable keyframe classes for material enhancements. The LoadingQuotes component fulfills ANIM-06 by providing movie-themed content (quotes, film reel) during content-fetch loading states.

Output: MotionProvider component wrapping App, enhanced SplashScreen with dramatic lighting/glow, animations.css with glow pulse + reduced-motion overrides, LoadingQuotes component integrated into loading states.
</objective>

<execution_context>
@/Users/kohulanrajan/.claude/get-shit-done/workflows/execute-plan.md
@/Users/kohulanrajan/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/05-animation-layer/05-RESEARCH.md
@.planning/phases/05-animation-layer/05-CONTEXT.md
@src/App.tsx
@src/components/SplashScreen.tsx
@src/components/discovery/DiscoveryPage.tsx
@src/components/search/SearchModal.tsx
@src/components/trending/TrendingPage.tsx
@src/styles/app.css
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create MotionProvider, animations.css, and wire into App</name>
  <files>
    src/components/animation/MotionProvider.tsx
    src/styles/animations.css
    src/styles/app.css
    src/App.tsx
  </files>
  <action>
    1. Create `src/components/animation/MotionProvider.tsx`:
       - Import `MotionConfig` from `motion/react`
       - Export a `MotionProvider` component that wraps children in `<MotionConfig reducedMotion="user">`
       - This single wrapper automatically disables transform/layout animations when user has prefers-reduced-motion enabled, while preserving opacity and color transitions

    2. Create `src/styles/animations.css` with:
       - `@keyframes accent-glow-pulse` — gentle breathing box-shadow glow effect (2s ease-in-out infinite). Uses `var(--accent)` with `color-mix(in oklch, var(--accent) 40%, transparent)` for the extended glow
       - `.accent-glow-active` class applying the animation with `will-change: box-shadow`
       - `.ceramic-ripple::before` — subtle radial-gradient concentric ring texture for light-mode clay cards (3-4 rings emanating from center, opacity 0.04)
       - `.metal-knob-enhanced` — radial-gradient with specular highlight at 35% 25% position (bright white spot overlay on existing metal knob gradient)
       - `.metal-track-deep` — deeper inset shadow for toggle/slider tracks: `inset 0 3px 6px rgba(0,0,0,0.4), inset 0 1px 3px rgba(0,0,0,0.3), inset 0 -1px 2px rgba(255,255,255,0.08), 0 1px 0 rgba(255,255,255,0.05)`
       - `@keyframes film-reel-spin` — 360deg rotation at 1.2s linear infinite, for the LoadingQuotes spinner
       - `@media (prefers-reduced-motion: reduce)` block: disable `.accent-glow-active` animation; set `*, *::before, *::after { animation-duration: 0.01ms !important; animation-iteration-count: 1 !important; transition-duration: 0.01ms !important; }` — this catches all CSS-driven animations that MotionConfig cannot reach

    3. Update `src/styles/app.css`:
       - Add `@import './animations.css';` after the existing `@import './metal.css';` line

    4. Update `src/App.tsx`:
       - Import `MotionProvider` from `@/components/animation/MotionProvider`
       - Wrap the entire return JSX (the outer `<>...</>` fragment) in `<MotionProvider>` so all motion components in the app tree respect reduced-motion
       - Keep existing structure otherwise — ToastProvider, AnimatePresence for splash, AppShell, TabBar, ReloadPrompt, InstallBanner all remain as-is inside the MotionProvider
  </action>
  <verify>
    - `npm run build` succeeds with no TypeScript errors
    - `grep -r "MotionProvider" src/App.tsx` shows the import and usage
    - `grep "accent-glow-pulse" src/styles/animations.css` confirms keyframes exist
    - `grep "prefers-reduced-motion" src/styles/animations.css` confirms media query exists
    - `grep "film-reel-spin" src/styles/animations.css` confirms spinner keyframes exist
  </verify>
  <done>MotionProvider wraps entire App. animations.css contains glow pulse keyframes, film-reel spinner keyframes, material enhancement classes, and reduced-motion overrides. CSS is imported via app.css.</done>
</task>

<task type="auto">
  <name>Task 2: Netflix-style splash screen redesign</name>
  <files>src/components/SplashScreen.tsx</files>
  <action>
    Redesign `SplashScreen.tsx` for a dramatic Netflix-inspired reveal. Replace the current clay-themed splash with a cinematic dark background version. Per user decision: "Netflix-style logo animation on app launch, WMTW logo assembles/reveals with dramatic lighting on dark background, always plays through (~2-3s), no skip button."

    Key changes from current implementation:
    1. **Background**: Change from `bg-clay-base` to `bg-black` — the splash is always on a pure dark background regardless of theme, like Netflix's intro
    2. **Ambient light sweep**: Add a large radial gradient glow behind the content using `var(--accent)` color. Animate from `scale: 0.3, opacity: 0` to `scale: 2, opacity: [0, 0.4, 0.2]` over 2.5s — dramatic light bloom effect
    3. **Film icon enhancement**: Keep the Film icon from lucide-react but add a specular glow behind it — a blurred accent-colored div positioned absolutely behind the icon, animating opacity from 0 to [0, 0.6, 0.3] over 1.5s
    4. **Text styling**: Change from `text-clay-text` to `text-white` for all text. Increase font sizes: `text-4xl sm:text-5xl md:text-6xl`. Change font-semibold to font-bold. Keep the staggered word reveal with blur-in but enhance blur to 12px (from 8px)
    5. **Spring physics**: Icon entrance: stiffness 180, damping 14 (more dramatic bounce than current 200/15). Word reveal springs: stiffness 250, damping 18 (slightly looser for more visual weight)
    6. **Progress bar**: Thin it to `h-0.5` (from `h-1`). Change track from `bg-clay-surface` to `bg-white/10`. Delay the fill start to 1.0s (from 0.9s) and extend duration to 1.3s (from 1.2s) to use the full ~2.5s
    7. **Exit animation**: More dramatic: `opacity: 0, scale: 1.1, filter: 'blur(12px)'` with duration 0.6s (scale from 1.05 to 1.1, blur from 8px to 12px)
    8. **Tagline**: Change text color to `text-white/60`. Keep "Discover your next favorite film"

    The complete implementation follows the code example in 05-RESEARCH.md "Netflix-Style Splash Screen" section. Use that as the primary reference, adjusting only the spring physics values listed above.

    Do NOT add a skip button — per user decision "Always plays through, no skip button — it's the brand moment."
  </action>
  <verify>
    - `npm run build` succeeds
    - SplashScreen.tsx contains `bg-black` (dark background)
    - SplashScreen.tsx contains `radial-gradient` for ambient light effect
    - SplashScreen.tsx contains `text-white` for text styling
    - SplashScreen.tsx still calls `onComplete` via progress bar `onAnimationComplete`
  </verify>
  <done>SplashScreen displays a dramatic Netflix-style reveal: dark background with accent-colored light bloom, specular glow behind Film icon, bold white text with blur-in stagger, thin cinematic progress bar. Plays for ~2.5s and transitions out with scale+blur. No skip button.</done>
</task>

<task type="auto">
  <name>Task 3: Create LoadingQuotes component and integrate into loading states</name>
  <files>
    src/components/animation/LoadingQuotes.tsx
    src/components/discovery/DiscoveryPage.tsx
    src/components/search/SearchModal.tsx
    src/components/trending/TrendingPage.tsx
  </files>
  <action>
    ANIM-06 requires "Loading animations with movie-themed content — quotes, film reel." The splash screen covers app launch; this task covers in-app loading states. Per Claude's Discretion on loading animation design.

    1. Create `src/components/animation/LoadingQuotes.tsx`:
       - Export a `LoadingQuotes` component. Props: `className?: string`, `size?: 'sm' | 'md'` (default 'md')
       - Curate an array of 12-15 classic movie quotes (short, recognizable):
         - "Here's looking at you, kid." — Casablanca
         - "May the Force be with you." — Star Wars
         - "I'll be back." — The Terminator
         - "To infinity and beyond!" — Toy Story
         - "Life is like a box of chocolates." — Forrest Gump
         - "After all, tomorrow is another day." — Gone with the Wind
         - "There's no place like home." — The Wizard of Oz
         - "You talking to me?" — Taxi Driver
         - "I see dead people." — The Sixth Sense
         - "Just keep swimming." — Finding Nemo
         - "Why so serious?" — The Dark Knight
         - "I am Groot." — Guardians of the Galaxy
       - On mount, pick a random quote. Use `useEffect` with a 4s interval to rotate to the next quote (sequential, wrapping). Clean up interval on unmount
       - Render structure:
         - Outer `motion.div` with fade-in on mount (`initial={{ opacity: 0 }} animate={{ opacity: 1 }}`)
         - Film reel spinner: a `<div>` with CSS class `film-reel-spin` (from animations.css), containing the Film icon from lucide-react at size 20 (sm) or 24 (md), styled `text-accent`
         - Below the spinner: `<AnimatePresence mode="wait">` wrapping a `<motion.p>` keyed by current quote index. Quote text fades in/out: `initial={{ opacity: 0, y: 8 }} animate={{ opacity: 1, y: 0 }} exit={{ opacity: 0, y: -8 }}` with `duration: 0.3`
         - Quote text styled: `text-clay-text/60 text-xs italic` (sm) or `text-clay-text/60 text-sm italic` (md)
         - Attribution styled: `text-clay-text/40 text-[10px]` (sm) or `text-clay-text/40 text-xs` (md)
       - Layout: flex column, items-center, gap-3

    2. Integrate into `src/components/discovery/DiscoveryPage.tsx`:
       - Find the loading state (where `isLoading` is true and no movie is displayed)
       - Replace the existing loading indicator (likely a spinner or "Loading..." text) with `<LoadingQuotes />`
       - Import `LoadingQuotes` from `@/components/animation/LoadingQuotes`

    3. Integrate into `src/components/search/SearchModal.tsx`:
       - Find the search results loading state
       - Replace the existing loading indicator with `<LoadingQuotes size="sm" />`

    4. Integrate into `src/components/trending/TrendingPage.tsx`:
       - Find the loading state for trending movies
       - Replace the existing loading indicator with `<LoadingQuotes />`

    The LoadingQuotes component replaces plain spinners with movie-themed content, fulfilling ANIM-06 for in-app content-fetch loading states.
  </action>
  <verify>
    - `npm run build` succeeds
    - `grep "LoadingQuotes" src/components/animation/LoadingQuotes.tsx` confirms component exists
    - `grep "LoadingQuotes" src/components/discovery/DiscoveryPage.tsx` confirms integration
    - `grep "LoadingQuotes" src/components/search/SearchModal.tsx` confirms integration
    - `grep "LoadingQuotes" src/components/trending/TrendingPage.tsx` confirms integration
    - `grep "film-reel-spin" src/components/animation/LoadingQuotes.tsx` confirms spinner class usage
  </verify>
  <done>LoadingQuotes component displays a rotating movie quote with film-reel spinner during loading states. Integrated into DiscoveryPage, SearchModal, and TrendingPage. ANIM-06 is fully covered: splash screen for app launch, LoadingQuotes for in-app loading.</done>
</task>

</tasks>

<verification>
- `npm run build` passes cleanly
- MotionProvider wraps App.tsx content
- animations.css imported in app.css
- SplashScreen has dark cinematic theme
- prefers-reduced-motion media query exists in animations.css
- Loading states on Discovery, Search, and Trending show movie quotes with film-reel spinner
</verification>

<success_criteria>
- MotionConfig reducedMotion="user" wraps the entire application
- CSS animations.css contains glow pulse, film-reel spinner, material enhancement classes, and reduced-motion overrides
- Splash screen plays a dramatic Netflix-style reveal on dark background
- In-app loading states show rotating movie quotes with film-reel spinner (not plain spinners)
- All animations (both Framer Motion and CSS) are disabled when prefers-reduced-motion is enabled
</success_criteria>

<output>
After completion, create `.planning/phases/05-animation-layer/05-01-SUMMARY.md`
</output>
