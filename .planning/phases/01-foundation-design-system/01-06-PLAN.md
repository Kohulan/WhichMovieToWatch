---
phase: 01-foundation-design-system
plan: 06
type: execute
wave: 5
depends_on: ["01-05"]
files_modified:
  - src/pages/Showcase.tsx
  - src/App.tsx
  - src/main.tsx
  - .github/workflows/deploy.yml
autonomous: false

must_haves:
  truths:
    - "All components display correctly at 375px, 768px, 1024px, and 1440px breakpoints"
    - "Showcase page demonstrates every component in the design system"
    - "GitHub Actions workflow builds the Vite app with env var injection and deploys to GitHub Pages"
    - "User can visually verify the complete design system across all 6 theme variants"
  artifacts:
    - path: "src/pages/Showcase.tsx"
      provides: "Full component showcase page with responsive layout"
      exports: ["Showcase"]
    - path: ".github/workflows/deploy.yml"
      provides: "Updated GitHub Actions deploy workflow for Vite build"
      contains: "npm run build"
  key_links:
    - from: "src/main.tsx"
      to: "src/pages/Showcase.tsx"
      via: "HashRouter route for showcase page"
      pattern: "Showcase"
    - from: ".github/workflows/deploy.yml"
      to: "package.json"
      via: "npm ci + npm run build"
      pattern: "npm run build"
---

<objective>
Create a comprehensive component showcase page with responsive layout at all 4 breakpoints, update the GitHub Actions deploy workflow for the Vite build pipeline, and perform visual verification of the entire design system across all theme variants.

Purpose: Ensure all components work at every breakpoint, validate the design system holistically, and prepare the deployment pipeline for CI/CD. This is the final plan of Phase 1 — everything must come together visually.
Output: A showcase page displaying every component, a working deploy workflow, and user visual verification of the complete design system.
</objective>

<execution_context>
@/Users/kohulanrajan/.claude/get-shit-done/workflows/execute-plan.md
@/Users/kohulanrajan/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/01-foundation-design-system/01-RESEARCH.md
@.planning/phases/01-foundation-design-system/01-05-SUMMARY.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create responsive showcase page and update deploy workflow</name>
  <files>
    src/pages/Showcase.tsx
    src/App.tsx
    src/main.tsx
    .github/workflows/deploy.yml
  </files>
  <action>
    **Part A: Showcase page** (`src/pages/Showcase.tsx`)

    Create a comprehensive component gallery that demonstrates every design system component:

    1. **Page structure:** Responsive grid layout using Tailwind responsive utilities:
       - Mobile (375px): single column, stack everything vertically
       - Tablet (768px): 2-column grid for component pairs
       - Desktop (1024px): 3-column grid
       - Large (1440px): 3-column grid with max-width container, centered

    2. **Sections** (each in a labeled section with `font-heading` title):

       **a) Clay Surfaces section:**
       - ClayCard: Two cards with sample content (title, description, badge). One elevated, one flat.
       - ClayBadge: All variants (default, accent, muted) in both sizes
       - ClayInput: With label, without label, with error state, with placeholder
       - ClaySkeletonCard: Two skeleton cards showing shimmer animation (one with image, one without)

       **b) Hardware Controls section:**
       - MetalButton: All 3 variants (primary, secondary, ghost) in all 3 sizes (sm, md, lg)
       - MetalToggle: Two toggles (one on, one off) with labels
       - MetalSlider: A slider with label and value display
       - MetalCheckbox: Two checkboxes (one checked, one unchecked) with labels
       - MetalDropdown: A dropdown with sample options (e.g., streaming providers)

       **c) Theme Controls section:**
       - Show the RotaryDial and ThemeToggle in an isolated clay card to highlight them as the centerpiece
       - Brief description text explaining each control

       **d) Modal Demo section:**
       - A MetalButton that opens a ClayModal with sample content inside (a card, some text, an input, buttons)

       **e) Typography section:**
       - H1 in Righteous font: "Which Movie To Watch"
       - H2 in Righteous: "Discover Your Next Movie"
       - H3 in Righteous: "Trending Now"
       - Body text in Poppins: "Lorem ipsum" paragraph demonstrating weights 400, 500, 600, 700
       - Use the fluid clamp sizing from research

       **f) Color Palette section:**
       - Show the current theme's colors as swatches: clay-base, clay-surface, clay-elevated, clay-shadow, clay-highlight, metal-base, metal-shine, metal-dark, accent
       - Each swatch is a small clay card with the color as background and the CSS variable name as label

    3. Use responsive gap and padding:
       - `gap-6 p-4` on mobile, `gap-8 p-6` on tablet+, `p-8` on desktop+
       - `max-w-7xl mx-auto` for large screens

    4. All state is local (useState for toggles, checkboxes, slider value, dropdown selection, modal open)

    **Part B: Update routing** (`src/main.tsx` and `src/App.tsx`)

    1. In `src/main.tsx`, update the HashRouter to include a route for the showcase:
       ```typescript
       const router = createHashRouter([
         {
           path: '/',
           element: <App />,
           children: [
             { index: true, element: <Showcase /> },
           ],
         },
       ]);
       ```
    2. In `src/App.tsx`, render `<AppShell>` wrapping `<Outlet />` from react-router

    **Part C: GitHub Actions deploy workflow** (`.github/workflows/deploy.yml`)

    Replace the existing workflow with the Vite build pipeline. Reference the research for the exact structure:

    ```yaml
    name: Deploy to GitHub Pages

    on:
      push:
        branches: [main]

    permissions:
      contents: read
      pages: write
      id-token: write

    concurrency:
      group: "pages"
      cancel-in-progress: false

    jobs:
      build-and-deploy:
        runs-on: ubuntu-latest
        environment:
          name: github-pages
          url: ${{ steps.deployment.outputs.page_url }}
        steps:
          - uses: actions/checkout@v4

          - uses: actions/setup-node@v4
            with:
              node-version: 22
              cache: npm

          - run: npm ci

          - run: npm run build
            env:
              VITE_TMDB_API_KEY: ${{ secrets.API_KEY }}
              VITE_OMDB_API_KEY: ${{ secrets.OMDB_API_KEY }}

          - uses: actions/configure-pages@v5

          - uses: actions/upload-pages-artifact@v3
            with:
              path: dist

          - id: deployment
            uses: actions/deploy-pages@v4
    ```

    **Important:** The secrets names must match what's already configured in the GitHub repo. The existing workflow uses `secrets.API_KEY` for TMDB and `secrets.OMDB_API_KEY` for OMDB — keep those same secret names. Vite reads `VITE_TMDB_API_KEY` and `VITE_OMDB_API_KEY` from environment at build time.

    Also ensure the CNAME file is preserved. Since the build outputs to `dist/`, the CNAME file in the repo root won't be automatically included. Either:
    - Copy CNAME to `public/` directory (Vite copies public/ contents to dist/ at build time), OR
    - Add a build step to copy it: `cp CNAME dist/CNAME`

    Preferred approach: Copy CNAME to `public/CNAME` so it's always included in builds automatically.
  </action>
  <verify>
    1. `npm run dev` — showcase page renders at localhost with all components
    2. Resize browser to 375px, 768px, 1024px, 1440px — layout adapts at each breakpoint
    3. All components are visible and interactive
    4. `npm run build` succeeds and `ls dist/` shows index.html, assets/, CNAME
    5. `npm run preview` — built app serves correctly
    6. `.github/workflows/deploy.yml` has correct structure with env var injection
  </verify>
  <done>Comprehensive showcase page with all 12 components demonstrated in a responsive grid layout, deploy workflow updated for Vite build with env injection, CNAME preserved in build output.</done>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <name>Task 2: Visual verification of complete design system</name>
  <files>src/pages/Showcase.tsx</files>
  <action>
    This is a human verification checkpoint. No automated action needed — the user will visually inspect the complete design system.

    **What was built:**
    Complete Phase 1 design system with:
    - 12 UI components (5 clay + 5 metal + 2 theme controls)
    - 6 theme variants (Cinema Gold, Ocean Blue, Neon Purple x light/dark)
    - Clay reshape animation on theme transitions
    - Rotary dial with tick sound for presets
    - Skeuomorphic toggle for dark/light
    - Responsive layout at 4 breakpoints
    - Typography system (Righteous headings, Poppins body)
    - Lucide icon system
    - Skeleton loading states with shimmer
  </action>
  <verify>
    Run `npm run dev` and open in browser. Verify:

    **1. Theme switching (most important):**
    - Click the rotary dial 2 times to cycle through all 3 presets — each should feel like "entering a different room"
    - Toggle dark/light mode — dark mode should feel like dark-colored clay, not dimmed
    - Verify tick sound plays on dial click (may not play on very first click due to browser policy)
    - Verify clay reshape animation (brief flatten then inflate) on each theme change

    **2. Clay components:**
    - Cards have visible 3D depth (not subtle, not flat)
    - Clay texture grain visible on card surfaces (subtle noise pattern)
    - Hover a card — it lifts up
    - Click/press a card — it depresses
    - Open the modal — it animates in with backdrop blur
    - Input fields look pressed INTO the surface (different from raised cards)
    - Skeleton cards show shimmer animation

    **3. Metal/hardware components:**
    - Buttons look like brushed metal (gradient shine)
    - Metal clearly looks different from clay (two materials)
    - Toggle switch slides with satisfying spring
    - Slider knob is draggable
    - Checkbox animates checkmark
    - Dropdown opens a clay panel from metal trigger

    **4. Responsive (resize browser or use DevTools device mode):**
    - 375px (mobile): single column, all components visible
    - 768px (tablet): 2-column grid
    - 1024px (desktop): 3-column grid
    - 1440px (large): contained, centered

    **5. Typography:**
    - Headings in Righteous font (rounded, display style)
    - Body text in Poppins (clean, modern)
    - Text readable in all 6 theme variants

    **6. Color contrast:**
    - Text readable against backgrounds in ALL 6 variants
    - Especially check Neon Purple dark (bright text on dark purple)
  </verify>
  <done>User has visually approved the complete design system: all 12 components render correctly across 6 theme variants at 4 breakpoints, with proper clay/metal material distinction, animations, and typography. Type "approved" or describe specific issues to fix.</done>
</task>

</tasks>

<verification>
- Showcase page renders all 12 components
- Responsive layout works at 375px, 768px, 1024px, 1440px
- All 6 theme variants display correctly
- Clay reshape animation plays on theme changes
- Rotary dial rotates with tick sound
- Dark/light toggle works
- Build succeeds and deploy workflow is correct
- User visually approves the design system
</verification>

<success_criteria>
Phase 1 is complete: a fully functional React + Vite + TypeScript foundation with a bold claymorphism design system featuring 12 UI components, 6 theme variants, signature clay reshape animations, premium hardware controls, and responsive layout — all verified by the user through a comprehensive showcase page.
</success_criteria>

<output>
After completion, create `.planning/phases/01-foundation-design-system/01-06-SUMMARY.md`
</output>
